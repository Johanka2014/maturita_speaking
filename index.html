<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Speaking Exam Practice</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .sidebar-container {
            height: calc(100vh - 4rem); /* Adjust for header height */
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div id="app" class="flex flex-col md:flex-row min-h-screen">
        
        <!-- Header -->
        <header class="md:hidden bg-white shadow-md p-4 flex justify-between items-center sticky top-0 z-20">
            <h1 class="text-xl font-bold text-sky-600">Exam Topics</h1>
            <button id="menu-toggle" class="text-slate-600 focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </header>

        <!-- Sidebar -->
        <aside id="sidebar" class="bg-white w-full md:w-80 lg:w-96 shadow-lg fixed md:relative inset-y-0 left-0 transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out z-30 md:z-auto">
            <div class="p-6 border-b border-slate-200">
                <h2 class="text-2xl font-bold text-sky-700">English Exam Topics</h2>
                <p class="text-sm text-slate-500 mt-1">Select a topic to practice</p>
            </div>
            <nav class="p-4 sidebar-container overflow-y-auto">
                <ul id="topic-list" class="space-y-2">
                    <!-- Topics will be dynamically inserted here -->
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-6 sm:p-8 md:p-12 bg-gray-50">
            <div id="topic-content" class="max-w-4xl mx-auto">
                <!-- Content will be dynamically inserted here -->
            </div>
        </main>

    </div>

    <script>
        // --- DATA & CONFIGURATION ---

        const topics = [
            "Holidays, Festivals, Celebrations", "Food", "Animals", "Problems of Mankind", "Environmental Problems",
            "Culture and Entertainment", "Media, Internet", "Science, Technology", "Shopping, Money", "Health, Keeping Fit",
            "Sports and Games", "Education", "Jobs, My Future Career", "Travelling", "Interpersonal Relationships",
            "Housing", "American Literature", "British Literature", "Canada", "The United Kingdom",
            "The United States of America", "Australia", "New Zealand", "The Czech Republic", "Kop≈ôivnice"
        ];
        
        const topicIcons = [
            'üéâ', 'üçî', 'üêæ', 'üåç', 'üå±', 'üé≠', 'üíª', 'üî¨', 'üõí', '‚ù§Ô∏è', 
            '‚öΩ', 'üéì', 'üíº', '‚úàÔ∏è', 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶', 'üè†', 'üìö', 'üìñ', 'üçÅ', 'üëë', 
            'ü¶Ö', 'üê®', 'ü•ù', 'üè∞', 'üè≠'
        ];

        const topicData = {
            // Topic 0: Holidays
            0: {
                title: "Holidays, Festivals, Celebrations",
                subtopics: [
                    {
                        title: "Czech National Holidays",
                        questions: [
                            "Can you name some Czech national holidays and their dates?",
                            "What is the origin of St. Wenceslas' Day?",
                            "What traditions are associated with the 17th of November in the Czech Republic?",
                            "How do Czechs typically celebrate Liberation Day (May 8th)?"
                        ],
                        imageUrl: "https://johanka2014.github.io/maturita_speaking/wenceslaus.png"
                    },
                    {
                        title: "Holidays in English-Speaking Countries",
                        questions: [
                            "What are the most important public holidays in the UK and the US?",
                            "What is Thanksgiving and how is it celebrated?",
                            "What do you know about 'bank holidays' in the UK?",
                            "Describe the celebrations for Independence Day in the USA.",
                            "What are some unique holidays celebrated in Australia, Canada, or New Zealand?",
                        ],
                        imageUrl: "https://johanka2014.github.io/maturita_speaking/thanksgiving.png"
                    },
                    {
                        title: "Christmas and Easter Comparison",
                        questions: [
                            "How do Christmas traditions in the Czech Republic differ from those in the UK or USA?",
                            "What are the similarities and differences in how Easter is celebrated in your country and in English-speaking countries?",
                            "Talk about the commercialization of Christmas and Easter. Is it a problem?",
                        ],
                        imageUrl: "https://johanka2014.github.io/maturita_speaking/coke-holiday-packaging-3.jpg"
                    },
                    {
                        title: "Traditions and Personal Preferences",
                        questions: [
                           "Are traditions still kept or are they disappearing in your country? Why?",
                           "What is your favourite holiday and why?",
                           "How do you personally celebrate Christmas or Easter with your family?"
                        ],
                        imageUrl: "https://johanka2014.github.io/maturita_speaking/easter_eggs.jpg"
                    },
                    {
                        title: "Special Occasions",
                        questions: [
                            "What special occasions are important to people in their lives?",
                            "Which event has been a red-letter day for you or your family?",
                            "What are some common customs for weddings in the Czech Republic?",
                            "How do people celebrate birthdays in your country?"
                        ],
                        imageUrl: "https://johanka2014.github.io/maturita_speaking/birthday.png"
                    }
                ]
            },
            // Topic 1: Food
            1: {
                title: "Food",
                subtopics: [
                    {
                        title: "Meals & Typical Dishes",
                        questions: [
                            "What are the typical meals on special occasions in the Czech Republic (e.g., Christmas, Easter)?",
                            "Describe a traditional dish from an English-speaking country you know.",
                            "What does a typical daily menu look like for you?",
                            "How have eating habits in the Czech Republic changed over the last 50 years?"
                        ]
                    },
                    {
                        title: "Diets and Healthy Eating",
                        questions: [
                            "What are some different types of diets people follow (e.g., vegetarian, vegan, keto)?",
                            "What constitutes a healthy diet in your opinion?",
                            "What are the benefits of preparing your own food versus eating out?",
                            "Talk about the importance of a balanced diet for keeping fit."
                        ]
                    },
                    {
                        title: "Eating Disorders",
                        questions: [
                            "What do you know about eating disorders like anorexia or bulimia?",
                            "What factors in modern society might contribute to eating disorders?",
                            "Why is it important to have a healthy body image?",
                        ]
                    }
                ]
            },
            // Other topics... dynamically generated placeholder
            ...Array.from({ length: 23 }, (_, i) => i + 2).reduce((acc, i) => {
                acc[i] = {
                    title: topics[i],
                    subtopics: [
                        { title: `Questions about ${topics[i]}`, questions: ["This is a placeholder. Please add specific questions."] }
                    ]
                };
                return acc;
            }, {}),
            // Topic 24: Kop≈ôivnice
            24: {
                 title: "Kop≈ôivnice",
                 subtopics: [
                    {
                        title: "History of Kop≈ôivnice",
                        questions: [
                            "What do you know about the history of Kop≈ôivnice?",
                            "Can you talk about the significance of the Tatra company for the town?",
                            "Are there any famous historical figures associated with Kop≈ôivnice?"
                        ]
                    },
                    {
                        title: "Places of Interest",
                        questions: [
                            "What are the main tourist attractions in Kop≈ôivnice?",
                            "Describe the Tatra Technical Museum. Why is it famous?",
                            "Besides the museum, what other places would you recommend a visitor to see?",
                            "Are there any interesting natural spots in or around the town?"
                        ]
                    },
                    {
                        title: "Events and Culture",
                        questions: [
                            "Are there any annual events or festivals that take place in Kop≈ôivnice?",
                            "What opportunities for culture and entertainment does the town offer?",
                            "How would you describe the atmosphere or character of Kop≈ôivnice to a foreigner?"
                        ]
                    }
                ]
            }
        };


        // --- UI ELEMENT CREATORS ---

        /**
         * Creates a navigation link for the sidebar.
         * @param {string} text The text content of the link.
         * @param {string} icon The emoji icon for the link.
         * @param {number} index The index of the topic.
         * @returns {HTMLElement} The created list item element.
         */
        function createNavLink(text, icon, index) {
            const li = document.createElement('li');
            const a = document.createElement('a');
            a.href = '#';
            a.className = 'flex items-center space-x-4 p-3 rounded-lg text-slate-600 hover:bg-sky-100 hover:text-sky-700 transition-colors duration-200';
            a.dataset.topicIndex = index;
            a.innerHTML = `
                <span class="text-2xl">${icon}</span>
                <span class="font-medium">${text}</span>
            `;
            li.appendChild(a);
            return li;
        }

        /**
         * Creates the header for the main content area.
         * @param {string} title The title of the topic.
         * @returns {HTMLElement} The created div element.
         */
        function createTopicHeader(title) {
            const headerDiv = document.createElement('div');
            headerDiv.className = 'pb-6 border-b border-slate-200 mb-8';
            headerDiv.innerHTML = `<h2 class="text-3xl md:text-4xl font-bold text-slate-800">${title}</h2>`;
            return headerDiv;
        }
        
        /**
         * Creates a card for a subtopic with its questions.
         * @param {string} title The title of the subtopic.
         * @param {string[]} questions An array of question strings.
         * @param {string|null} imageUrl An optional URL for an image.
         * @returns {HTMLElement} The created div element.
         */
        function createSubtopicCard(title, questions, imageUrl = null) {
            const card = document.createElement('div');
            const gradients = [
                'from-sky-50 to-cyan-50', 'from-amber-50 to-yellow-50', 
                'from-emerald-50 to-green-50', 'from-violet-50 to-purple-50',
                'from-rose-50 to-pink-50'
            ];
            const randomGradient = gradients[Math.floor(Math.random() * gradients.length)];

            card.className = `p-6 rounded-lg shadow-md bg-gradient-to-br ${randomGradient} border-t-4 border-sky-400 transition-transform duration-300 hover:scale-[1.02] hover:shadow-xl`;
            
            let contentHTML = '';

            if (imageUrl) {
                contentHTML = `
                    <div class="flex flex-col md:flex-row items-start md:space-x-6">
                        <div class="flex-1">
                            <h3 class="text-xl md:text-2xl font-semibold text-slate-800 mb-4">${title}</h3>
                            <ul class="list-disc list-inside space-y-3 text-slate-600">
                                ${questions.map(q => `<li>${q}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="w-full md:w-1/3 mt-4 md:mt-0 flex-shrink-0">
                            <img src="${imageUrl}" alt="${title}" class="rounded-lg shadow-md object-cover w-full h-auto">
                        </div>
                    </div>
                `;
            } else {
                 contentHTML = `
                    <h3 class="text-xl md:text-2xl font-semibold text-slate-800 mb-4">${title}</h3>
                    <ul class="list-disc list-inside space-y-3 text-slate-600">
                        ${questions.map(q => `<li>${q}</li>`).join('')}
                    </ul>
                `;
            }
            card.innerHTML = contentHTML;
            return card;
        }

        /**
         * Creates the interactive worksheet box for the Holidays topic.
         * @returns {HTMLElement} The created div element.
         */
        function createWorksheetBox() {
            const box = document.createElement('div');
            box.className = 'mt-12 p-6 rounded-lg shadow-md bg-gradient-to-br from-cyan-50 to-sky-100 border-t-4 border-cyan-400 transition-transform duration-300 hover:scale-[1.02] hover:shadow-xl';

            const title = document.createElement('h3');
            title.className = 'text-xl md:text-2xl font-semibold text-slate-800 mb-4';
            title.textContent = 'Interactive Activity: Easter Traditions';
            box.appendChild(title);
            
            const text = document.createElement('p');
            text.className = 'text-slate-600 leading-relaxed';
            
            const questions = [
                { id: 'q1', options: ['like', '-', 'so'], answer: '-' },
                { id: 'q2', options: ['why', 'which', 'what'], answer: 'which' },
                { id: 'q3', options: ['serve', 'to serve', 'have served'], answer: 'serve' },
                { id: 'q4', options: ['That', 'There', 'It'], answer: 'It' },
                { id: 'q5', options: ['other', 'strange', 'different'], answer: 'different' },
                { id: 'q6', options: ['put', 'covered', 'placed'], answer: 'covered' },
                { id: 'q7', options: ['so', 'too', 'also'], answer: 'also' },
                { id: 'q8', options: ['sold', 'sell', 'selling'], answer: 'sold' },
                { id: 'q9', options: ['all', 'them', 'themselves'], answer: 'them' },
                { id: 'q10', options: ['a', 'the', '-'], answer: 'a' },
                { id: 'q11', options: ['-', 'much', 'most'], answer: 'most' },
                { id: 'q12', options: ['become', 'receive', 'pass'], answer: 'receive' },
                { id: 'q13', options: ['are distributed', 'distributed', 'distribute'], answer: 'are distributed' },
            ];

            text.innerHTML = `
                In the UK, Easter is one of the major Christian festivals of the year and just (1) ${createSelect('q1', questions[0].options)} Christmas day, it is also associated with special food.
                A traditional item is the pancake. People eat pancakes on Shrove Tuesday, (2) ${createSelect('q2', questions[1].options)} is the day before the start of Lent. Sometimes people (3) ${createSelect('q3', questions[2].options)} roast lamb or ham for the traditional lunch on Easter Sunday. (4) ${createSelect('q4', questions[3].options)} is traditional to serve mint sauce with the roast lamb.
                Simnel cake, not too (5) ${createSelect('q5', questions[4].options)} from traditional Christmas cake, is usually eaten on Easter Sunday. Simnel cake is a rich fruit cake (6) ${createSelect('q6', questions[5].options)} with a layer of marzipan. Hot cross buns are (7) ${createSelect('q7', questions[6].options)} served on Easter Sunday but in the UK they are now (8) ${createSelect('q8', questions[7].options)} all year round. Traditional Easter cross buns are small, sweet buns with dried fruit. People serve (9) ${createSelect('q9', questions[8].options)} hot. The bun has (10) ${createSelect('q10', questions[9].options)} cross on the top.
                Chocolate eggs are perhaps the (11) ${createSelect('q11', questions[10].options)} famous Easter food. Children (12) ${createSelect('q12', questions[11].options)} chocolate eggs from their parents and grandparents on Easter Sunday. Children believe that the eggs (13) ${createSelect('q13', questions[12].options)} by the Easter Bunny on the morning of Easter Sunday. Chocolate bunnies are becoming a popular alternative to chocolate eggs.
            `;
            box.appendChild(text);

            const button = document.createElement('button');
            button.className = 'mt-6 bg-cyan-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-cyan-600 transition-colors';
            button.textContent = 'Check Answers';
            box.appendChild(button);

            const resultDiv = document.createElement('div');
            resultDiv.className = 'mt-4 font-medium';
            box.appendChild(resultDiv);

            button.addEventListener('click', () => {
                let correctCount = 0;
                questions.forEach(q => {
                    const select = box.querySelector(`#${q.id}`);
                    select.classList.remove('border-green-500', 'border-red-500', 'border-slate-300');
                    if (select.value === q.answer) {
                        select.classList.add('border-green-500');
                        correctCount++;
                    } else {
                        select.classList.add('border-red-500');
                    }
                });
                 resultDiv.textContent = `You got ${correctCount} out of ${questions.length} correct.`;
                 resultDiv.className = correctCount > questions.length / 2 ? 'mt-4 font-medium text-green-700' : 'mt-4 font-medium text-red-700';
            });

            return box;
        }

        function createSelect(id, options) {
            let optionsHTML = options.map(opt => `<option value="${opt}">${opt}</option>`).join('');
            return `<select id="${id}" class="inline-block border border-slate-300 rounded-md shadow-sm focus:ring-cyan-500 focus:border-cyan-500 text-sm px-2 py-1 mx-1">${optionsHTML}</select>`;
        }
        
        /**
         * Creates the "Extra Resources" box for the Holidays topic.
         * @returns {HTMLElement} The created div element.
         */
        function createHolidayResourcesBox() {
            const box = document.createElement('div');
            box.className = 'mt-12 p-6 rounded-lg shadow-md bg-gradient-to-br from-amber-50 to-yellow-100 border-t-4 border-amber-400 transition-transform duration-300 hover:scale-[1.02] hover:shadow-xl';
            
            const title = document.createElement('h3');
            title.className = 'text-xl md:text-2xl font-semibold text-slate-800 mb-4';
            title.textContent = 'Extra Resources';
            box.appendChild(title);

            const linksContainer = document.createElement('div');
            linksContainer.className = 'space-y-3';
            
            const link1 = document.createElement('a');
            link1.href = 'https://drive.google.com/file/d/1xENF6yEiF_sk0u_gkY1G1T8PL8asRLBl/view?usp=drive_link';
            link1.target = '_blank';
            link1.rel = 'noopener noreferrer';
            link1.className = 'flex items-center space-x-2 text-amber-600 hover:text-amber-800 font-medium group';
            link1.innerHTML = `
                <span class="group-hover:underline">Holiday Customs Worksheet</span>
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                </svg>
            `;
            linksContainer.appendChild(link1);

            const link2 = document.createElement('a');
            link2.href = 'https://drive.google.com/file/d/1aGbhLRCJLabiv_5Las7WIdeo9e8kkk7T/view?usp=sharing';
            link2.target = '_blank';
            link2.rel = 'noopener noreferrer';
            link2.className = 'flex items-center space-x-2 text-amber-600 hover:text-amber-800 font-medium group';
            link2.innerHTML = `
                <span class="group-hover:underline">Holidays and celebrations Z level</span>
                 <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                </svg>
            `;
            linksContainer.appendChild(link2);

            const link3 = document.createElement('a');
            link3.href = 'https://docs.google.com/presentation/d/1hISUDe4HI1if4EB-LK7_n-b-TcqdbcMYTR_Bac4nQuM/edit?usp=sharing';
            link3.target = '_blank';
            link3.rel = 'noopener noreferrer';
            link3.className = 'flex items-center space-x-2 text-amber-600 hover:text-amber-800 font-medium group';
            link3.innerHTML = `
                <span class="group-hover:underline">Holidays Presentation</span>
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                </svg>
            `;
            linksContainer.appendChild(link3);

            box.appendChild(linksContainer);
            return box;
        }

        /**
         * Creates the "Extra Resources" box for the Food topic.
         * @returns {HTMLElement} The created div (box) element.
         */
        function createFoodResourcesBox() {
            const box = document.createElement('div');
            box.className = 'mt-12 p-6 rounded-lg shadow-md bg-gradient-to-br from-emerald-50 to-green-100 border-t-4 border-emerald-400 transition-transform duration-300 hover:scale-[1.02] hover:shadow-xl';
            
            const title = document.createElement('h3');
            title.className = 'text-xl md:text-2xl font-semibold text-slate-800 mb-4';
            title.textContent = 'Extra Resources';
            box.appendChild(title);

            const linksContainer = document.createElement('div');
            linksContainer.className = 'space-y-3';
            
            const link = document.createElement('a');
            link.href = 'https://drive.google.com/file/d/1-XFrOzkUhY5jxV0UfvfHwh_UVyoqCVfS/view?usp=sharing';
            link.target = '_blank';
            link.rel = 'noopener noreferrer';
            link.className = 'flex items-center space-x-2 text-emerald-600 hover:text-emerald-800 font-medium group';
            link.innerHTML = `
                <span class="group-hover:underline">Food in English Speaking Countries Z level</span>
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                </svg>
            `;
            linksContainer.appendChild(link);

            const newLink = document.createElement('a');
            newLink.href = 'https://drive.google.com/file/d/1sDTGhcG-PEbAGNVu8I2YDe014DneVqrs/view?usp=sharing';
            newLink.target = '_blank';
            newLink.rel = 'noopener noreferrer';
            newLink.className = 'flex items-center space-x-2 text-emerald-600 hover:text-emerald-800 font-medium group';
            newLink.innerHTML = `
                <span class="group-hover:underline">Food worksheet</span>
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                </svg>
            `;
            linksContainer.appendChild(newLink);
            
            const link3 = document.createElement('a');
            link3.href = 'https://docs.google.com/presentation/d/1B12kaQOhwFfRB--AupUarcJ9zLsHC43QEJstLPjy74U/edit?usp=sharing';
            link3.target = '_blank';
            link3.rel = 'noopener noreferrer';
            link3.className = 'flex items-center space-x-2 text-emerald-600 hover:text-emerald-800 font-medium group';
            link3.innerHTML = `
                <span class="group-hover:underline">Food in Gt Britain</span>
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                </svg>
            `;
            linksContainer.appendChild(link3);

            box.appendChild(linksContainer);
            return box;
        }

        /**
         * Creates the "General Food Discussion" box.
         * @returns {HTMLElement} The created div (box) element.
         */
        function createFoodDiscussionBox() {
            const box = document.createElement('div');
            box.className = 'mt-12 p-6 rounded-lg shadow-md bg-gradient-to-br from-sky-50 to-sky-100 border-t-4 border-sky-400 transition-transform duration-300 hover:scale-[1.02] hover:shadow-xl';

            const title = document.createElement('h3');
            title.className = 'text-xl md:text-2xl font-semibold text-slate-800 mb-4';
            title.textContent = 'General Food Discussion';
            box.appendChild(title);

            const questionList = document.createElement('ul');
            questionList.className = 'list-disc list-inside space-y-3 text-slate-600';

            const questions = [
                "What Restaurant Would You Most Like to Review?",
                "What Messages About Food and Eating Have You Learned From Your Family?",
                "What Would You Most Like to Learn to Cook or Bake?",
                "Do You Pay Attention to Nutrition Labels on Food?",
                "What Food Would You Like to Judge in a Taste-Off?",
                "What Are the Most Memorable Meals You‚Äôve Ever Had?",
                "Do You Think a Healthier School Lunch Program Is a Lost Cause?",
                "Do You Prefer Your Tacos ‚ÄòAuthentic‚Äô or ‚ÄòAppropriated‚Äô?",
                "Is It Ethical to Eat Meat?",
                "What‚Äôs Your Comfort Food?",
                "What Are Your Favorite Junk Foods?",
                "What Do You Eat During the School Day?",
                "Do You Cook?",
                "How Concerned are You About Where Your Food Comes From?",
                "What Are Your Food Rules?",
                "Are Your Eating Habits Healthy?",
                "Do You Eat Cafeteria Food?",
                "What‚Äôs Your Favorite Summer Food?",
                "Are You Caffeinated?"
            ];

            questions.forEach(q => {
                const li = document.createElement('li');
                li.textContent = q;
                questionList.appendChild(li);
            });

            box.appendChild(questionList);
            return box;
        }
        
        /**
         * Creates the interactive activity for the Food topic.
         * @returns {HTMLElement} The created div element.
         */
        function createEatingDisorderActivity() {
            const box = document.createElement('div');
            box.className = 'mt-12 p-6 rounded-lg shadow-md bg-gradient-to-br from-rose-50 to-pink-100 border-t-4 border-rose-400 transition-transform duration-300 hover:scale-[1.02] hover:shadow-xl';
            
            const title = document.createElement('h3');
            title.className = 'text-xl md:text-2xl font-semibold text-slate-800 mb-4';
            title.textContent = 'Interactive Activity: Eating Disorders';
            box.appendChild(title);

            const wordBank = ['binge', 'westernization', 'anorexia', 'purging', 'abnormal', 'self-starvation', 'insufficient', 'physical', 'laxatives'];
            const questions = [
                { text: 'Eating disorders are conditions defined by ___ eating habits.', answer: 'abnormal' },
                { text: 'They may involve either ___ or excessive food intake.', answer: 'insufficient' },
                { text: 'They have effect on both the ___ and mental health of an individual.', answer: 'physical' },
                { text: 'Bulimia and ___ are the most common specific forms in the United Kingdom.', answer: 'anorexia' },
                { text: 'Other types include ___ eating and eating disorder not otherwise specified.', answer: 'binge' },
                { text: 'Bulimia is characterized by binge eating and ___. Purging can include self-induced vomiting, over-exercising, and the usage of diuretics and ___.', answers: ['purging', 'laxatives'] },
                { text: 'Anorexia is characterized by extreme food restriction to the point of ___ and excessive weight loss.', answer: 'self-starvation' },
                { text: 'Though primarily thought of as affecting females, eating disorders affect males as well (an estimated 10 ‚Äì 15% of people with eating disorders are males).', answer: null },
                { text: 'Although eating disorders are increasing all over the world among both men and women, there is evidence to suggest that it is women in the Western world who are at the highest risk of developing them and the degree of ___ increases the risk.', answer: 'westernization' },
                { text: 'Nearly half of all Americans personally know someone with an eating disorder.', answer: null },
            ];

            const form = document.createElement('form');
            form.className = 'space-y-4';
            
            let selectCounter = 0;
            questions.forEach((q, index) => {
                const p = document.createElement('p');
                p.className = 'text-slate-600 leading-relaxed';
                
                let processedText = `${index + 1}. ${q.text}`;
                
                if (q.answer) {
                    processedText = processedText.replace('___', createFoodSelect(`food_q${selectCounter++}`, wordBank));
                } else if (q.answers) {
                     q.answers.forEach(() => {
                        processedText = processedText.replace('___', createFoodSelect(`food_q${selectCounter++}`, wordBank));
                    });
                }

                p.innerHTML = processedText;
                form.appendChild(p);
            });

            box.appendChild(form);
            
            const button = document.createElement('button');
            button.className = 'mt-6 bg-rose-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-rose-600 transition-colors';
            button.textContent = 'Check Answers';
            box.appendChild(button);

            const resultDiv = document.createElement('div');
            resultDiv.className = 'mt-4 font-medium';
            box.appendChild(resultDiv);
            
            const correctAnswers = ['abnormal', 'insufficient', 'physical', 'anorexia', 'binge', 'purging', 'laxatives', 'self-starvation', 'westernization'];

            button.addEventListener('click', (e) => {
                e.preventDefault();
                let correctCount = 0;
                const selects = form.querySelectorAll('select');
                
                selects.forEach((select, index) => {
                    select.classList.remove('border-green-500', 'border-red-500', 'border-slate-300');
                    if (select.value === correctAnswers[index]) {
                        select.classList.add('border-green-500');
                        correctCount++;
                    } else {
                        select.classList.add('border-red-500');
                    }
                });
                 resultDiv.textContent = `You got ${correctCount} out of ${correctAnswers.length} correct.`;
                 resultDiv.className = correctCount > correctAnswers.length / 2 ? 'mt-4 font-medium text-green-700' : 'mt-4 font-medium text-red-700';
            });

            return box;
        }
        
        function createFoodSelect(id, options) {
            let optionsHTML = '<option value="">Select...</option>' + options.map(opt => `<option value="${opt}">${opt}</option>`).join('');
            return `<select id="${id}" class="inline-block border border-slate-300 rounded-md shadow-sm focus:ring-rose-500 focus:border-rose-500 text-sm px-2 py-1 mx-1">${optionsHTML}</select>`;
        }


        // --- CORE LOGIC ---

        /**
         * Main display function. Clears content and renders the selected topic.
         * @param {number} topicIndex The index of the topic to display.
         */
        function displayTopic(topicIndex) {
            const topic = topicData[topicIndex] || { title: topics[topicIndex], subtopics: [] };
            const topicContentEl = document.getElementById('topic-content');
            
            // Clear previous content
            topicContentEl.innerHTML = '';
            
            // Add new content
            topicContentEl.appendChild(createTopicHeader(topic.title));
            
            const contentGrid = document.createElement('div');
            contentGrid.className = 'space-y-8';
            
            topic.subtopics.forEach(sub => {
                contentGrid.appendChild(createSubtopicCard(sub.title, sub.questions, sub.imageUrl));
            });
            
            topicContentEl.appendChild(contentGrid);

            // Add special boxes for specific topics
            if (topicIndex === 0) {
                const worksheetBox = createWorksheetBox();
                contentGrid.appendChild(worksheetBox);

                const holidayResourcesBox = createHolidayResourcesBox();
                contentGrid.appendChild(holidayResourcesBox);

            } else if (topicIndex === 1) {
                const eatingDisorderActivity = createEatingDisorderActivity();
                contentGrid.appendChild(eatingDisorderActivity);

                const foodDiscussionBox = createFoodDiscussionBox();
                contentGrid.appendChild(foodDiscussionBox);
                
                const foodResourcesBox = createFoodResourcesBox();
                contentGrid.appendChild(foodResourcesBox);
            }

            updateActiveLink(topicIndex);

            // Scroll to top of content on topic change for better UX
            window.scrollTo(0, 0);
        }

        /**
         * Updates the active state of the sidebar links.
         * @param {number} activeIndex The index of the currently active topic.
         */
        function updateActiveLink(activeIndex) {
            document.querySelectorAll('#topic-list a').forEach((link, index) => {
                if (index === activeIndex) {
                    link.classList.add('bg-sky-100', 'text-sky-700');
                    link.classList.remove('text-slate-600');
                } else {
                    link.classList.remove('bg-sky-100', 'text-sky-700');
                    link.classList.add('text-slate-600');
                }
            });
        }
        
        /**
         * Initializes the application.
         */
        function init() {
            const topicListEl = document.getElementById('topic-list');
            const sidebar = document.getElementById('sidebar');
            const menuToggle = document.getElementById('menu-toggle');

            // Populate sidebar
            topics.forEach((topic, index) => {
                const navItem = createNavLink(topic, topicIcons[index], index);
                topicListEl.appendChild(navItem);
            });
            
            // Add event listener to the list container
            topicListEl.addEventListener('click', (e) => {
                const link = e.target.closest('a');
                if (link && link.dataset.topicIndex) {
                    e.preventDefault();
                    displayTopic(parseInt(link.dataset.topicIndex));
                    // Hide sidebar on mobile after click
                    if(window.innerWidth < 768) {
                       sidebar.classList.add('-translate-x-full');
                    }
                }
            });
            
            // Toggle sidebar on mobile
            menuToggle.addEventListener('click', () => {
                sidebar.classList.toggle('-translate-x-full');
            });

            // Display the first topic by default
            displayTopic(0);
        }

        // --- STARTUP ---
        document.addEventListener('DOMContentLoaded', init);

    </script>

</body>
</html>








